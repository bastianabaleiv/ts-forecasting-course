---
title: "Clase 2"
description: |
  Series de Tiempo: Conceptos, An치lisis, Manipulaci칩n y Visualizaci칩n
author:
  - name: Basti치n Aballay L.
    url: https://www.linkedin.com/in/bastianaballay/
date: "2021-10-25"
bibliography: clase-02.bib
output:
  distill::distill_article:
    toc: true
    toc_depth: 2
    toc_float: true
    code_folding: true
    highlight: tango
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r packages, include=FALSE}
suppressPackageStartupMessages({
  library(tidyverse)
  library(plotly)
  library(xaringanExtra)
})

xaringanExtra::use_panelset()
```

En la [clase pasada](/_site/posts/clase-01) introdujimos las series de tiempo de
manera conceptual como una colecci칩n de observaciones secuenciales en el tiempo.

En esta clase revisaremos las series de tiempo desde una perspectiva te칩rica,
estableciendo los antecendentes estad칤sticos necesarios para analizarlas y
caracterizarlas. Luego de esta clase podr치s:

+ Entender las series de tiempo como *realizaciones* de procesos estoc치sticos
+ Caracterizar series de tiempo utilizando medidas de dependencia
+ Manipular y agregar series de tiempo
+ Proponer visualizaciones adecuadas a la serie de tiempo estudiada
+ Definir indicadores de desempe침o adecuados para evaluar modelos de pron칩stico

Por supuesto, todo lo anterior a trav칠s de la utilizaci칩n de distintos paquetes 
de `R`.

# Series de Tiempo 游늳

Uno de los objetivos principales del an치lisis de series de tiempo es desarrollar
modelos matem치ticos que provean de descripciones plausibles para los datos
muestreados. Para establecer una configuraci칩n estad칤stica que nos permita describir
las series de tiempo, asumiremos que una serie de tiempo puede ser definida como
una colecci칩n de variables aleatorias indexadas de acuerdo al orden en que fueron
obtenidas a trav칠s del tiempo.

<aside>
Series de Tiempo
</aside>

Podemos entonces entender una serie de tiempo como la secuencia de variables aleatorias $y_1,
y_2,y_3,\dots$, donde la variable aleatoria $y_1$ denota el valor que toma la
serie en la primera observaci칩n temporal, la variable $y_2$ denota el valor que
toma el segundo punto en el tiempo y as칤 sucesivamente. Podemos referirnos a dicha secuencia de 
variables aleatorias $\{y_t\} = \{y_1,\dots,y_T\}$, indexada por $t$^[El 칤ndice $t$ usualmente es discreto y toma valores en los enteros] como un *proceso estoc치stico*^[[Cross 
Validated: Is a time series the same as a stochastic process?](https://stats.stackexchange.com/questions/126791/is-a-time-series-the-same-as-a-stochastic-process)]. Luego, los valores observados de una serie de tiempo son una *realizaci칩n* del proceso estoc치stico, siendo una de muchas posibles secuencias que un proceso aleatorio puede generar (@Shumway2017-dp).

<aside>
Proceso estoc치stico
</aside>

Otra manera de ver a las series de tiempo es ccomo una muestra finita que se obtiene de 
una secuencia doblemente infinita subyacente: $\{\dots, y_{-1},y_0,y_1,y_2,\dots,y_T,y_{T+1},y_{T+2},\dots\}$.


```{r}
set.seed(42)

ts_tbl <-  replicate(10, rnorm(300, mean = 0, sd = 1)) %>%
  as_tibble() %>%
  rename_all( ~ paste0("ts_", 1:10)) %>%
  mutate(index = 1:300) %>% 
  pivot_longer(
    cols = -c(index),
    names_to = "series"
  ) %>% 
  mutate(realization = ifelse(series == "ts_1","Yes","No"))
```


::::: {.panelset}

::: {.panel}
[Distribuci칩n de Realizaciones]{.panel-name}
```{r ggplot_sim_ts_all, echo = FALSE}
ggplot_sim_ts_all <- ts_tbl %>% 
  ggplot(
    aes(x = index, y = value, color = series)
  ) +
  geom_line() +
  theme_bw()  

plotly::ggplotly(ggplot_sim_ts_all)

```
:::

::: {.panel}
[Realizaci칩n en particular]{.panel-name}
```{r ggplot_sim_ts_real}
ggplot_sim_ts_real <- ts_tbl %>% 
  ggplot(
    aes(x = index, y = value, color = realization)
  ) +
  geom_line() +
  scale_color_manual(values=c("lightgray","black")) +
  theme_bw()  
  
  plotly::ggplotly(ggplot_sim_ts_real)
```
:::
:::::


En este curso, nos enfocaremos el an치lisis y estudio de secuencias de mediciones
de una misma variable, a menudo en intervalos de tiempo regulares, lo que se
conoce  como *series de tiempo univariadas*.

<aside>
Series de tiempo univariadas
</aside>

La mayor칤a de los an치lisis estad칤sticos buscan estimar propiedades de la poblaci칩n
a partir de una muestra. En el caso del an치lisis de series de tiempo, el problema
es distinto: pese a que podemos modificar el largo de la serie de tiempo observada,
es imposible obtener m칰ltiples observaciones en un punto espec칤fico del tiempo. 
Por lo tanto, los procedimientos estad칤sticos convencionales (basados en estimadores
obtenidos a partir de muestras grandes) dejan de ser apropiados para las series de tiempo.

## Modelos de Series de Tiempo

## Estacionariedad

## Componentes de una Serie de Tiempo

## Autocorrelaci칩n y Autocorrelaci칩n Parcial

### Ruido Blanco

## Manipulaci칩n y agregaci칩n de series de tiempo

+ Desaf칤os: saber qu칠 utilizar
+ Evoluci칩n de los paquetes en el tiempo: hipervinculo a secci칩n de recursos
con paquetes propuestos

# Evaluaci칩n de pron칩sticos